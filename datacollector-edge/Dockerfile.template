# base-image for golang on any machine using a template var
FROM resin/%%RESIN_MACHINE_NAME%%-golang:latest

ENV INITSYSTEM on

# Defines our working directory in container
WORKDIR /src/

#Copy all the code into /go
COPY . ./
RUN cd ..

#build all the Go source with gradle.
#RUN cd $GOPATH/src/
RUN ls -l
RUN chmod 0777 ./gradlew
RUN ls -l
RUN ./gradlew check

#tell our container to run the binary on start.
#CMD ["./main"]